<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario</title>
    <script>

        function validacion(event) {
            event.preventDefault();
            let formulario = document.getElementById("formulario");
            let errores_validacion = [];
            let error;

            let nombre = document.getElementById("nombre");
            let primer_apellido = document.getElementById("primer_apellido");
            let segundo_apellido = document.getElementById("segundo_apellido");
            let direccion = document.getElementById("direccion");
            let expresion_direccion = /^\s*[A-Za-z\s]+,\s*[\d]+,\s*[\d]+\s*$/;
            let telefono = document.getElementById("telefono");
            let expresion_telefono = /^\d{3}(\s\d{2}){3}$/;
            let correo = document.getElementById("correo");
            let expresion_correo = /^[^@\s]+@[^@\s]+\.[^@\s]+$/;
            let contraseña = document.getElementById("contraseña");
            let expresion_contraseña = /^(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{6,10}$/;
            let comentario = document.getElementById("comentario");

            if (nombre.value === "") {
                errores_validacion.push("El 'Nombre' es obligatorio '*'");
                if (!error) {
                    error = nombre;
                }
            }

            if (primer_apellido.value === "") {
                errores_validacion.push("El 'Primer apellido' es obligatorio '*'");
                if (!error) {
                    error = primer_apellido;
                }
            }

            if (segundo_apellido.value === "") {
                errores_validacion.push("El 'Segundo apellido' es obligatorio '*'");
                if (!error) {
                    error = segundo_apellido;
                }
            }

            if (expresion_direccion.test(direccion.value) === false) {
                errores_validacion.push("La 'Dirección' debe tener el siguiente formato 'calle o plaza, número, piso'");
                if (!error) {
                    error = direccion;
                }
            }

            if (telefono.value === "") {
                errores_validacion.push("El 'Teléfono' es obligatorio '*'");
                if (!error) {
                    error = telefono;
                }
            }

            if (expresion_telefono.test(telefono.value) === false) {
                errores_validacion.push("El 'Teléfono' debe tener el siguiente formato '123 33 33 33'");
                if (!error) {
                    error = telefono;
                }
            }

            if (expresion_correo.test(correo.value) === false) {
                errores_validacion.push("El 'E-mail' debe tener el siguiente formato 'ejemplo@ejemplo.com'");
                if (!error) {
                    error = correo;
                }
            }

            if (contraseña.value === "") {
                errores_validacion.push("La 'Contraseña' es obligatorio '*'");
                if (!error) {
                    error = contraseña;
                }
            }

            if ((expresion_contraseña.test(contraseña.value) === false)) {
                errores_validacion.push("La 'Contraseña' debe 'Tener de entre 6 y 10 caracteres alfanuméricos y contar con al menos un dígito y una letra mayúscula'. ");
                if (!error) {
                    error = contraseña;
                }
            }

            if (errores_validacion.length > 0) {
                alert("Los datos son incorrectos: \n - " +errores_validacion.join("\n - "));
                if (error) {
                    error.focus();
                }
            } else {
                alert("Datos enviados correctamente.");
                formulario.submit();
            }

        }

    </script>
</head>
<body>
    
    <form id="formulario" action="procesa.php" method="post" onsubmit="validacion(event)">

        <fieldset>
            <legend>Datos personales</legend>
            <label for="nombre">Nombre: </label>
            <input type="text" name="nombre" id="nombre">*</input>

            <label for="primer_apellido">Primer apellido: </label>
            <input type="text" name="primer_apellido" id="primer_apellido">*</input>

            <label for="segundo_apellido">Segundo apellido: </label>
            <input type="text" name="segundo_apellido" id="segundo_apellido">*</input> <br><br>

            <label for="direccion">Dirección: </label>
            <input type="text" name="direccion" id="direccion" placeholder="calle o plaza, número y piso."> <br><br>

            <label for="telefono">Teléfono: </label>
            <input type="tel" name="telefono" id="telefono" placeholder="123 33 33 33">*</input> <br><br>

            <label for="correo">E-mail: </label>
            <input type="email" name="correo" id="correo" placeholder="ejemplo@ejemplo.com">*</input> <br><br>

            <label for="contraseña">Contraseña: </label>
            <input type="password" name="contraseña" id="contraseña">*</input> <br>

            <p>Sexo <br>
            <label><input type="radio" name="sexo" id="sexo" value="varon">Varón</label><br>
            <label><input type="radio" name="sexo" id="sexo" value="mujer">Mujer</label>
            </p>
        </fieldset>
        <br>
        <fieldset>
            <legend>Nivel de estudios e intereses</legend>
            <p>Nivel de estudios: <br>
            <label><input type="radio" name="estudios" id="estudios" value="certificado escolar" >  Certificado escolar</label><br>
            <label><input type="radio" name="estudios" id="estudios" value="eso">  Graduado en E.S.O</label><br>
            <label><input type="radio" name="estudios" id="estudios" value="bachiller - FP" >  Bachiller - Formación Profesional</label><br>
            <label><input type="radio" name="estudios" id="estudios" value="diplomado">  Diplomado</label><br>
            <label><input type="radio" name="estudios" id="estudios" value="licenciado">  Licenciado o Doctorado</label>
            </p>

            <p>Recibir artículos sobre los siguientes temas <br>
                <label><input type="checkbox" name="temas" id="temas" value="musica">  Música</label><br>
                <label><input type="checkbox" name="temas" id="temas" value="deportes">  Deportes</label><br>
                <label><input type="checkbox" name="temas" id="temas" value="cine">  Cine</label><br>
                <label><input type="checkbox" name="temas" id="temas" value="libros">  Libros</label><br>
                <label><input type="checkbox" name="temas" id="temas" value="ciencia">  Ciencia</label>
            </p>
        </fieldset>
        <br>
        <fieldset>
            <legend>Datos sobre la revista</legend>
            <label for="frecuencia">Frecuencia con la que se recibirá la revista: </label><br><br>
            <select name="frecuencia" id="frecuencia">
                <option value="diaria">diaria</option>
                <option value="semanal" selected>semanal</option>
                <option value="mensual">mensual</option>
                <option value="anual">anual</option>
            </select>

            <p>Puedes mandar tu artículo sobre cualquier tema de los que tratamos. Nosotros los valoraremos para que pueda ser publicado.</p>
            <label>Mandar artículo: <input type="file" name="articulo" id="articulo"></label><br><br>

            <label for="comentario">Si deseas mandar simplemente una opinion o comentario escríbelo aquí: </label><br>
            <textarea name="comentario" id="comentario" cols="65" rows="7" placeholder="Escribe tu comentario..."></textarea>
        </fieldset>
        <br>
        <fieldset>
            <legend>Comenzar de nuevo</legend>
            <p>Borrar todos los datos del formulario y volver a empezar: </p>
            <input type="reset" value="Borrar todo">
        </fieldset>
        <br>
        <fieldset>
            <legend>Enviar</legend>
            <p>Enviar formulario por correo electrónico: Al pulsar en el botón se abrirá la página de envío de correo: en esa página pulsa en enviar: </p>
            <input type="submit" value="Enviar por Correo">
        </fieldset>

    </form>

</body>
</html>